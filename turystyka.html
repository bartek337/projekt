<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8" />
  <title>Turystyka – Gmina Trzebieszów</title>

  <!-- Leaflet CSS i JS -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet-gpx/1.4.0/gpx.min.js"></script>

  <!-- Własny styl -->
  <link rel="stylesheet" href="style.css" />

</head>
<body>

  <!-- ======= HEADER START ======= -->
  <header class="gmina-header">
    <div class="gmina-bar">
      <div class="gmina-left">
        <a href = "index.html">
          <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRqpmsPz5klOJHEx1r9B7XaL_ADtFo8hfZUSw&s" alt="Herb Gminy" class="logo-img">
        </a>  
        <div class="logo-text">
          Oficjalna platforma internetowa<br>
          <strong>Gminy Trzebieszów</strong>
        </div>
      </div>
  
      <div class="gmina-center">
        <h1 class="gmina-title">GMINA TRZEBIESZÓW</h1>
      </div>
  
      <div class="gmina-right">
        <a href="login.html" class="login-btn">Zaloguj się</a>
      </div>
    </div>

  <!-- MENU -->
  <nav>
    <ul class="gmina-menu">
      <li><a href="index.html">Strona główna</a></li>

      <li class="dropdown">
        <a href="#">Informacje o Gminie</a>
        <ul class="dropdown-content">
          <li><a href="historia.html">Historia gminy</a></li>
          <li><a href="barwy.html">Herb gminy</a></li>
          <li><a href="wladze.html">Władze Gminy</a></li>
          <li><a href="struktura.html">Struktura Organizacyjna</a></li>
          <li><a href="solectwa.html">Sołectwa</a></li>
          <li><a href="turystyka.html">Turystyka i rekreacja</a></li>
          <li><a href="produkty.html">Produkty Lokalne</a></li>
          <li><a href="obywatele.html">Honorowi Obywatele</a></li>
          <li><a href="publikacje.html">Publikacje o gminie</a></li>
          <li><a href="organizacje.html">Organizacje pozarządowe</a></li>
          <li><a href="partnerstwo.html">Partnerstwo i współpraca</a></li>
        </ul>
      </li>

      <li><a href="panel.html">Panel Mieszkańca</a></li>
      <li><a href="kontakt.html">Kontakt</a></li>
    </ul>
  </nav>
</header>
<!-- ======= HEADER END ======= -->

  <main class="official-card">
    <section>
      <h2>Odkryj uroki Gminy Trzebieszów</h2>
    </section>

    <section>
      <h3>Walory przyrodnicze</h3>
      <p>Gmina położona jest na Równinie Łukowskiej i posiada status ekologiczny. Dominuje tutaj typowo nizinny krajobraz z rozległymi polami i łąkami przeciętymi spokojnym nurtem Krzny Północnej. Rzadkie i zanikające gatunki flory leśnej chroni rezerwat przyrody „Kania" znajdujący się na terenie wsi Szaniawy-Poniaty.</p>
      <p>Okoliczne bory słyną z obfitości runa leśnego: jagód, grzybów, borówek oraz innych owoców leśnych. Na południe od Trzebieszowa znajduje się kompleks leśny o powierzchni 1080 ha, wchodzący w skład Radzyńskiego Obszaru Chronionego Krajobrazu.</p>
      <img src="walor.jpg" alt="Walory turystyczne" class="chata">
    </section>

    <section>
      <h3>Szlak Ziemi Łukowskiej</h3>
      <p>Jednym z największych atutów gminy jest <strong>Szlak Ziemi Łukowskiej</strong>, który prowadzi przez najciekawsze miejsca regionu.</p>

      <div id="map" style="height: 500px;"></div>
      <div id="progress-container">
        <div id="progress-indicator"></div>
      </div>
      <div id="info"></div> 
    </section>

    <section>
      <h3>Skansen w Dębowierzchach</h3>
      <p>Skansen znajduje się u Państwa Krystyny i Józefa Owczarskich w Dębowierzchach. Małżeństwo posiada w swoich zbiorach narzędzia dawniej wykorzystywane do uprawy roli.</p>
      <p>W celu odwiedzin prosimy o wcześniejszy kontakt z Urzędem Gminy Trzebieszów.</p>

      <h3>Galeria zdjęć</h3>
      <img src="skansen1.jpg" alt="Skansen" class="chata">
      <img src="skansen2.jpg" alt="Skansen" class="chata">
      <img src="skansen3.jpg" alt="Skansen" class="chata">
    </section>
  </main>

  <footer>
    <p>&copy; 2025 Gmina Trzebieszów | Projekt Civica</p>
  </footer>

  <script>
    const map = L.map('map').setView([51.9, 22.4], 10);
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      maxZoom: 18
    }).addTo(map);
    // Ikony dla atrakcji

const icon = L.icon({
  iconUrl: 'https://cdn-icons-png.flaticon.com/512/235/235861.png', // ikona muzeum
  iconSize: [32, 37],
  iconAnchor: [16, 37],
  popupAnchor: [0, -28]
});

// Lista atrakcji z nazwą, współrzędnymi i ikoną
const attractions = [
  {
    name: "Zalew Zimna Woda",
    latlng: [51.91, 22.39],
    icon: icon,
    description: "Popularny zbiornik wodny na wypoczynek."
  },
  {
    name: "Muzeum im. Henryka Sienkiewicza w Woli Okrzejskiej",
    latlng: [51.87, 22.45],
    icon: icon,
    description: "Muzeum poświęcone życiu i twórczości noblisty."
  },
  {
    name: "Muzeum w Łukowie",
    latlng: [51.93, 22.37],
    icon: icon,
    description: "Lokalne muzeum prezentujące historię miasta."
  },
  {
    name: 'Park Przyrody "Jata"',
    latlng: [51.89, 22.41],
    icon: icon,
    description: "Piękny park przyrody z licznymi szlakami."
  }
];

// Dodajemy markery z popupami
attractions.forEach(attraction => {
  L.marker(attraction.latlng, { icon: attraction.icon })
    .addTo(map)
    .bindPopup(`<b>${attraction.name}</b><br>${attraction.description}`);
});
  
    const infoBox = document.getElementById('info');
    const progressContainer = document.getElementById('progress-container');
    const progressIndicator = document.getElementById('progress-indicator');
    let marker = null;
  
    let points = [];
  
    const gpx = new L.GPX('szlak-lukowski.gpx', {
      async: true,
      marker_options: {
        startIconUrl: 'https://unpkg.com/leaflet-gpx@1.5.0/pin-icon-start.png',
        endIconUrl: 'https://unpkg.com/leaflet-gpx@1.5.0/pin-icon-end.png',
        shadowUrl: 'https://unpkg.com/leaflet-gpx@1.5.0/pin-shadow.png'
      },
      polyline_options: {
        color: 'darkred',
        weight: 5,
        opacity: 0.8
      }
    }).on('addline', function(e) {
      points = e.line.getLatLngs();
    }).on('loaded', function(e) {
      const gpxLayer = e.target;
      map.fitBounds(gpxLayer.getBounds());
  
      const totalDist = gpxLayer.get_distance();
      const totalTime = totalDist / 5000; // zakładamy 5 km/h
  
      infoBox.innerHTML = `
        <b>Całkowity dystans:</b> ${(totalDist / 1000).toFixed(2)} km<br>
        <b>Szacowany czas przejścia:</b> ${totalTime.toFixed(2)} godz.
        <br><br><i>Najeżdżaj kursorem na pasek poniżej, aby zobaczyć postęp na trasie.</i>
      `;
    }).addTo(map);
  
    progressContainer.addEventListener('mousemove', function(e) {
      if (points.length === 0) return;
  
      const rect = progressContainer.getBoundingClientRect();
      const percent = (e.clientX - rect.left) / rect.width;
      const index = Math.floor(percent * points.length);
  
      if (index < 0 || index >= points.length) return;
  
      const latlng = points[index];
  
      if (!marker) {
        marker = L.marker(latlng).addTo(map);
      } else {
        marker.setLatLng(latlng);
      }
  
      // Przesunięcie wskaźnika na pasku
      progressIndicator.style.left = `${percent * 100}%`;
  
      // Oblicz dystans do tego punktu
      let dist = 0;
      for (let i = 1; i <= index; i++) {
        dist += points[i - 1].distanceTo(points[i]);
      }
      const time = dist / 5000; // przy 5 km/h
  
      infoBox.innerHTML = `
        <b>Przebyto:</b> ${(dist / 1000).toFixed(2)} km<br>
        <b>Szacowany czas:</b> ${time.toFixed(2)} godz.
      `;
    });
  
    progressContainer.addEventListener('mouseleave', function() {
      if (marker) {
        map.removeLayer(marker);
        marker = null;
      }
  
      progressIndicator.style.left = '-100px';
  
      infoBox.innerHTML = `
        <i>Najeżdżaj kursorem na pasek poniżej, aby zobaczyć postęp na trasie.</i>
      `;
    });
  </script>

</body>
</html>